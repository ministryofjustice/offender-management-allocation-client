<table class="govuk-table responsive tablesorter">
  <thead class="govuk-table__head">
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="col">Name</th>
    <th class="govuk-table__header" scope="col">Previous <br/>allocation</th>
    <th class="govuk-table__header" scope="col">Tier A <br/>cases</th>
    <th class="govuk-table__header" scope="col">Tier B <br/>cases</th>
    <th class="govuk-table__header" scope="col">Tier C <br/>cases</th>
    <th class="govuk-table__header" scope="col">Tier D <br/>cases</th>
    <th class="govuk-table__header" scope="col">Total</th>
    <th class="govuk-table__header header-width__8" scope="col">Working <br/>pattern</th>
    <th class="govuk-table__header sorter-false" scope="col">Action</th>
  </tr>
  </thead>
  <tbody class="govuk-table__body">
  <% poms.each_with_index do |pom, i| %>
    <tr class="govuk-table__row <%= pom_type %>_pom_row_<%= i %>">
      <td aria-label="POM name" class="govuk-table__cell "><%= full_name(pom) %></td>
      <td aria-label="Tier A cases" class="govuk-table__cell ">-</td>
      <td aria-label="Tier A cases" class="govuk-table__cell "><%= tier_a_case_count(pom.allocations) %></td>
      <td aria-label="Tier B cases" class="govuk-table__cell "><%= tier_b_case_count(pom.allocations) %></td>
      <td aria-label="Tier C cases" class="govuk-table__cell "><%= tier_c_case_count(pom.allocations) %></td>
      <td aria-label="Tier D cases" class="govuk-table__cell "><%= tier_d_case_count(pom.allocations) %></td>
      <td aria-label="Total" class="govuk-table__cell "><%= pom.allocations.count %></td>
      <td aria-label="Working pattern" class="govuk-table__cell"><%= format_working_pattern(pom.working_pattern) %></td>
      <td aria-label="Action" class="govuk-table__cell ">
        <%= link_to 'Allocate', prison_confirm_coworking_allocation_path(
            @prison.code, @prisoner.offender_no, @current_pom.staff_id, pom.staff_id),
                    class: "govuk-link" %></td>
    </tr>
  <% end %>
  </tbody>
</table>
